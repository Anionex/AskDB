# 停止旧的后端进程

## 问题
端口 8000 被占用，说明有旧的后端进程还在运行。

## 解决方法

### Windows (你的系统)

#### 方法1: 找到并停止进程

```bash
# 1. 查找占用 8000 端口的进程
netstat -ano | findstr :8000

# 会显示类似：
#   TCP    0.0.0.0:8000           0.0.0.0:0              LISTENING       12345
#                                                                        ^^^^^
#                                                                        进程ID

# 2. 停止该进程（替换 12345 为实际的进程ID）
taskkill /F /PID 12345
```

#### 方法2: 找到所有 Python/Uvicorn 进程

```bash
# 查看所有 Python 进程
tasklist | findstr python

# 强制停止所有 Python 进程（小心！会停止所有Python）
taskkill /F /IM python.exe
```

#### 方法3: 使用任务管理器

1. 按 `Ctrl + Shift + Esc` 打开任务管理器
2. 找到 "详细信息" 标签
3. 查找所有 `python.exe` 或 `uvicorn` 进程
4. 右键 → 结束任务

---

## 停止后重新启动

### 1️⃣ 确认端口已释放

```bash
netstat -ano | findstr :8000
# 应该没有输出
```

### 2️⃣ 启动后端

```bash
uv run python -m uvicorn backend.main:app --host 0.0.0.0 --port 8000
```

### 3️⃣ 等待启动成功

```
INFO:     Application startup complete.
```

### 4️⃣ 测试

浏览器发送查询，后端应该显示日志！

---

## 快速命令（复制执行）

```bash
# 查找并停止 8000 端口
for /f "tokens=5" %a in ('netstat -ano ^| findstr :8000') do taskkill /F /PID %a

# 重新启动后端
uv run python -m uvicorn backend.main:app --host 0.0.0.0 --port 8000
```



