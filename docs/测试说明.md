# AskDB æµ‹è¯•è¯´æ˜æ–‡æ¡£

## ğŸ“– æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•è¿è¡Œ AskDB é¡¹ç›®çš„æµ‹è¯•å¥—ä»¶ã€‚æµ‹è¯•å¥—ä»¶åŒ…å«åç«¯æµ‹è¯•ã€å‰ç«¯æµ‹è¯•å’Œç«¯åˆ°ç«¯é›†æˆæµ‹è¯•ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1: ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆæ¨èï¼‰

```bash
bash run_all_tests.sh
```

è¿™å°†è‡ªåŠ¨è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶ç”Ÿæˆç»¼åˆæŠ¥å‘Šã€‚

### æ–¹æ³•2: å•ç‹¬è¿è¡Œæµ‹è¯•

```bash
# åç«¯æµ‹è¯•
uv run python run_tests.py

# å‰ç«¯æµ‹è¯•
uv run python test_frontend.py

# ç«¯åˆ°ç«¯æµ‹è¯•
uv run python test_e2e.py

# ç”Ÿæˆç»¼åˆæŠ¥å‘Š
uv run python generate_test_report.py
```

## ğŸ“‹ æµ‹è¯•ç±»å‹

### 1. åç«¯æµ‹è¯• (run_tests.py)

**æµ‹è¯•å†…å®¹**:
- æ ¸å¿ƒæ¨¡å—å¯¼å…¥ (VectorStore, EnhancedDatabaseTools, create_agent)
- æ–‡ä»¶ç»“æ„å®Œæ•´æ€§
- VectorStore åŠŸèƒ½ (åˆå§‹åŒ–ã€ç´¢å¼•ã€æœç´¢)
- åç«¯ API è¿æ¥
- å‰ç«¯ç»„ä»¶æ–‡ä»¶æ£€æŸ¥
- æ–‡æ¡£å®Œæ•´æ€§

**è¿è¡Œ**:
```bash
uv run python run_tests.py
```

**è¾“å‡º**:
- æ§åˆ¶å°è¾“å‡ºæµ‹è¯•ç»“æœ
- ç”Ÿæˆ `test_results.json`

### 2. å‰ç«¯æµ‹è¯• (test_frontend.py)

**æµ‹è¯•å†…å®¹**:
- package.json é…ç½®
- å‰ç«¯ä¾èµ– (React, Ant Design, Zustandç­‰)
- æ ¸å¿ƒæ–‡ä»¶ (main.jsx, App.jsxç­‰)
- React ç»„ä»¶ (ChatArea, ChatSidebar, IndexManagementç­‰)
- çŠ¶æ€ç®¡ç† Store
- é…ç½®æ–‡ä»¶
- node_modules å®‰è£…çŠ¶æ€
- å‰ç«¯æœåŠ¡è¿è¡ŒçŠ¶æ€

**è¿è¡Œ**:
```bash
uv run python test_frontend.py
```

**è¾“å‡º**:
- æ§åˆ¶å°è¾“å‡ºæµ‹è¯•ç»“æœ
- ç”Ÿæˆ `test_frontend_results.json`

### 3. ç«¯åˆ°ç«¯æµ‹è¯• (test_e2e.py)

**æµ‹è¯•å†…å®¹**:
- æœåŠ¡å¯ç”¨æ€§æ£€æŸ¥
- ç”¨æˆ·è®¤è¯æµç¨‹ (ç™»å½•ã€TokenéªŒè¯)
- å—ä¿æŠ¤çš„APIè®¿é—®
  - æ•°æ®åº“çŠ¶æ€æŸ¥è¯¢
  - ç´¢å¼•çŠ¶æ€æŸ¥è¯¢
  - ä¼šè¯åˆ—è¡¨æŸ¥è¯¢
  - ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
- CORS é…ç½®
- æ•°æ®æŒä¹…åŒ–
- æ—¥å¿—æ–‡ä»¶
- å®Œæ•´å·¥ä½œæµæ¨¡æ‹Ÿ

**è¿è¡Œ**:
```bash
uv run python test_e2e.py
```

**è¾“å‡º**:
- æ§åˆ¶å°è¾“å‡ºæµ‹è¯•ç»“æœ
- ç”Ÿæˆ `test_e2e_results.json`
- å¥åº·è¯„åˆ†å’Œå»ºè®®

### 4. ç»¼åˆæŠ¥å‘Šç”Ÿæˆ (generate_test_report.py)

**åŠŸèƒ½**:
- æ•´åˆæ‰€æœ‰æµ‹è¯•ç»“æœ
- è®¡ç®—æ€»ä½“é€šè¿‡ç‡
- ç”Ÿæˆå¥åº·è¯„åˆ†
- æä¾›ä¼˜åŒ–å»ºè®®
- åˆ—å‡ºå·²çŸ¥é—®é¢˜

**è¿è¡Œ**:
```bash
uv run python generate_test_report.py
```

**è¾“å‡º**:
- `COMPREHENSIVE_TEST_REPORT.json` - JSONæ ¼å¼ç»¼åˆæŠ¥å‘Š
- `TEST_REPORT_SUMMARY.md` - Markdownæ ¼å¼æµ‹è¯•æ‘˜è¦

## ğŸ“Š æŸ¥çœ‹æµ‹è¯•ç»“æœ

### æŸ¥çœ‹JSONæŠ¥å‘Š

```bash
# åç«¯æµ‹è¯•ç»“æœ
cat test_results.json | python -m json.tool

# å‰ç«¯æµ‹è¯•ç»“æœ
cat test_frontend_results.json | python -m json.tool

# E2Eæµ‹è¯•ç»“æœ
cat test_e2e_results.json | python -m json.tool

# ç»¼åˆæŠ¥å‘Š
cat COMPREHENSIVE_TEST_REPORT.json | python -m json.tool
```

### æŸ¥çœ‹MarkdownæŠ¥å‘Š

```bash
# æµ‹è¯•æ‘˜è¦
cat TEST_REPORT_SUMMARY.md

# è¯¦ç»†æ€»ç»“
cat æµ‹è¯•æ‰§è¡Œæ€»ç»“.md

# å®Œæ•´æŠ¥å‘Š
cat TESTING_COMPLETE.md
```

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### Pythonç¯å¢ƒ
- Python 3.9+
- UV åŒ…ç®¡ç†å™¨
- è™šæ‹Ÿç¯å¢ƒ (.venv)

### ä¾èµ–åŒ…
```bash
# ä½¿ç”¨ UV å®‰è£…ä¾èµ–
uv pip install -r requirements.txt

# æˆ–ä½¿ç”¨ pyproject.toml
uv pip install -e .
```

### å…³é”®ä¾èµ–
- agno >= 0.1.0
- sentence-transformers >= 2.2.0
- chromadb >= 0.4.0
- fastapi >= 0.104.0
- requests >= 2.28.0
- pytest >= 7.0.0

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1: ModuleNotFoundError: No module named 'agno'

**è§£å†³æ–¹æ¡ˆ**:
```bash
uv pip install agno
```

### é—®é¢˜2: Could not import module 'Trainer'

**è§£å†³æ–¹æ¡ˆ**:
```bash
uv pip install soxr
```

### é—®é¢˜3: å‰ç«¯æœåŠ¡ 502 é”™è¯¯

**åŸå› **: å‰ç«¯æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd frontend && npm run dev
```

### é—®é¢˜4: ä½¿ç”¨ç³»ç»ŸPythonè€Œéè™šæ‹Ÿç¯å¢ƒ

**è§£å†³æ–¹æ¡ˆ**: ç»Ÿä¸€ä½¿ç”¨ `uv run python` è€Œéç›´æ¥ä½¿ç”¨ `python`

```bash
# âŒ é”™è¯¯
python run_tests.py

# âœ… æ­£ç¡®
uv run python run_tests.py
```

## ğŸ“ˆ æµ‹è¯•ç»“æœè§£è¯»

### é€šè¿‡ç‡æ ‡å‡†
- **95-100%**: ä¼˜ç§€ â­â­â­â­â­
- **85-94%**: è‰¯å¥½ â­â­â­â­
- **70-84%**: ä¸€èˆ¬ â­â­â­
- **<70%**: éœ€è¦æ”¹è¿› â­â­

### å¥åº·è¯„åˆ†
- **90+åˆ†**: ç³»ç»Ÿå·²å‡†å¤‡å¥½æŠ•å…¥ç”Ÿäº§
- **75-89åˆ†**: ç³»ç»ŸåŸºæœ¬æ­£å¸¸ï¼Œæœ‰å°‘é‡é—®é¢˜
- **60-74åˆ†**: ç³»ç»Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå»ºè®®ä¿®å¤
- **<60åˆ†**: ç³»ç»Ÿå­˜åœ¨ä¸¥é‡é—®é¢˜ï¼Œéœ€ç«‹å³å¤„ç†

## ğŸ¯ æŒç»­é›†æˆ

### åœ¨CI/CDä¸­ä½¿ç”¨

```yaml
# .github/workflows/test.yml ç¤ºä¾‹
name: Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.11'
      
      - name: Install UV
        run: pip install uv
      
      - name: Install dependencies
        run: uv pip install -e .
      
      - name: Run tests
        run: bash run_all_tests.sh
      
      - name: Upload test results
        uses: actions/upload-artifact@v2
        with:
          name: test-results
          path: |
            test_results.json
            test_frontend_results.json
            test_e2e_results.json
            COMPREHENSIVE_TEST_REPORT.json
```

## ğŸ“ æµ‹è¯•æ–‡ä»¶æ¸…å•

### æµ‹è¯•è„šæœ¬
- `run_tests.py` - åç«¯æµ‹è¯•
- `test_frontend.py` - å‰ç«¯æµ‹è¯•
- `test_e2e.py` - ç«¯åˆ°ç«¯æµ‹è¯•
- `generate_test_report.py` - æŠ¥å‘Šç”Ÿæˆå™¨
- `run_all_tests.sh` - ä¸€é”®æµ‹è¯•è„šæœ¬

### æµ‹è¯•ç»“æœ
- `test_results.json` - åç«¯æµ‹è¯•ç»“æœ
- `test_frontend_results.json` - å‰ç«¯æµ‹è¯•ç»“æœ
- `test_e2e_results.json` - E2Eæµ‹è¯•ç»“æœ

### æµ‹è¯•æŠ¥å‘Š
- `COMPREHENSIVE_TEST_REPORT.json` - ç»¼åˆæŠ¥å‘Š (JSON)
- `TEST_REPORT_SUMMARY.md` - æµ‹è¯•æ‘˜è¦
- `æµ‹è¯•æ‰§è¡Œæ€»ç»“.md` - è¯¦ç»†æ€»ç»“
- `TESTING_COMPLETE.md` - å®Œæ•´æŠ¥å‘Š
- `æµ‹è¯•è¯´æ˜.md` - æœ¬æ–‡æ¡£

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [README.md](README.md) - é¡¹ç›®è¯´æ˜
- [QUICK_START.md](QUICK_START.md) - å¿«é€Ÿå¼€å§‹
- [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) - éƒ¨ç½²æŒ‡å—
- [PROJECT_DELIVERY.md](PROJECT_DELIVERY.md) - é¡¹ç›®äº¤ä»˜

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†
2. æ£€æŸ¥æµ‹è¯•æŠ¥å‘Šä¸­çš„é”™è¯¯ä¿¡æ¯
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ (backend.log, frontend.log)
4. å‚è€ƒç›¸å…³æ–‡æ¡£

---

*æœ€åæ›´æ–°: 2025-12-29*  
*ç»´æŠ¤è€…: AskDB Team*


